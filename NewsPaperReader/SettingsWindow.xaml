<Window x:Class="NewsPaperReader.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:NewsPaperReader"
        xmlns:models="clr-namespace:NewsPaperReader.Models"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="设置" Height="600" Width="800"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- 内容区域 -->
        <materialDesign:Card Grid.Row="0" Margin="10">
            <TabControl Margin="10" Style="{StaticResource MaterialDesignTabControl}" TabStripPlacement="Left">
                <!-- 界面设置 -->
                <TabItem Header="界面设置">
                    <StackPanel Margin="10" Orientation="Vertical">
                        <!-- 报纸列表显示模式 -->
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,15">
                            <TextBlock Width="200" Margin="0,0,10,0" VerticalAlignment="Center">报纸列表显示模式:</TextBlock>
                            <ComboBox SelectedValue="{Binding Settings.NewspaperListDisplayMode}" SelectedValuePath="Tag" Style="{StaticResource MaterialDesignOutlinedComboBox}">
                                <ComboBoxItem Content="文本式列表" Tag="{x:Static models:NewspaperListDisplayMode.TextList}"/>
                                <ComboBoxItem Content="图片式列表" Tag="{x:Static models:NewspaperListDisplayMode.ImageList}"/>
                                <ComboBoxItem Content="图片平铺" Tag="{x:Static models:NewspaperListDisplayMode.ImageTile}"/>
                            </ComboBox>
                        </StackPanel>
                        
                        <!-- 显示PDF默认工具栏 -->
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,15">
                            <TextBlock Width="200" Margin="0,0,10,0" VerticalAlignment="Center">显示PDF默认工具栏:</TextBlock>
                            <CheckBox IsChecked="{Binding Settings.ShowPdfToolbar}" Style="{StaticResource MaterialDesignCheckBox}"/>
                        </StackPanel>
                        
                        <!-- 禁用WebView2默认右键菜单 -->
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,15">
                            <TextBlock Width="200" Margin="0,0,10,0" VerticalAlignment="Center">禁用WebView2默认右键菜单:</TextBlock>
                            <CheckBox IsChecked="{Binding Settings.DisableWebView2ContextMenu}" Style="{StaticResource MaterialDesignCheckBox}"/>
                        </StackPanel>
                        
                        <!-- 左侧面板宽度 -->
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,15">
                            <TextBlock Width="200" Margin="0,0,10,0" VerticalAlignment="Center">左侧面板宽度:</TextBlock>
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <Slider Minimum="100" Maximum="400" Value="{Binding Settings.LeftSidebarWidth}" Width="200" Margin="0,0,10,0" Style="{StaticResource MaterialDesignSlider}"/>
                                <TextBlock Text="{Binding Settings.LeftSidebarWidth}" Width="50" TextAlignment="Right"/>
                                <TextBlock Text="px" Margin="5,0,0,0"/>
                            </StackPanel>
                        </StackPanel>

                        <!-- 侧边栏触发距离 -->
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,15">
                            <TextBlock Width="200" Margin="0,0,10,0" VerticalAlignment="Center">侧边栏触发距离:</TextBlock>
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <Slider Minimum="5" Maximum="50" Value="{Binding Settings.SidebarTriggerDistance}" Width="200" Margin="0,0,10,0" Style="{StaticResource MaterialDesignSlider}"/>
                                <TextBlock Text="{Binding Settings.SidebarTriggerDistance}" Width="50" TextAlignment="Right"/>
                                <TextBlock Text="px" Margin="5,0,0,0"/>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </TabItem>
                
                <!-- 报纸库管理 -->
                <TabItem Header="报纸库管理">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <!-- 报纸列表 -->
                        <ListBox Grid.Row="0" ItemsSource="{Binding Settings.NewspaperLibrary}" SelectedItem="{Binding SelectedNewspaperInfo}" Margin="0,0,0,10">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" Margin="10">
                                        <Image Source="{Binding TitleImagePath}" Width="50" Height="50" Stretch="Uniform" Margin="0,0,10,0"/>
                                        <StackPanel>
                                            <TextBlock Text="{Binding Name}" FontWeight="Bold"/>
                                            <TextBlock Text="{Binding Url}" FontSize="12" Foreground="Gray" TextWrapping="Wrap"/>
                                        </StackPanel>
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                        
                        <!-- 操作按钮 -->
                        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button Content="添加" Command="{Binding AddNewspaperInfoCommand}" Margin="0,0,10,0" Style="{StaticResource MaterialDesignRaisedButton}"/>
                            <Button Content="编辑" Command="{Binding EditNewspaperInfoCommand}" Margin="0,0,10,0" Style="{StaticResource MaterialDesignOutlinedButton}"/>
                            <Button Content="删除" Command="{Binding DeleteNewspaperInfoCommand}" Margin="0,0,10,0" Style="{StaticResource MaterialDesignOutlinedButton}"/>
                        </StackPanel>
                    </Grid>
                </TabItem>
            </TabControl>
        </materialDesign:Card>
        
        <!-- 按钮区域 -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">
            <Button Content="确定" Command="{Binding OKCommand}" Margin="0,0,10,0" Width="80" Style="{StaticResource MaterialDesignRaisedButton}"/>
            <Button Content="取消" Command="{Binding CancelCommand}" Width="80" Style="{StaticResource MaterialDesignOutlinedButton}"/>
        </StackPanel>
    </Grid>
</Window>
