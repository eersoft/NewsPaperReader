<Window x:Class="NewsPaperReader.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:NewsPaperReader"
        xmlns:models="clr-namespace:NewsPaperReader.Models"
        mc:Ignorable="d"
        Title="设置" Height="600" Width="800"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- 标题 -->
        <Border Grid.Row="0" Background="LightGray" Padding="10">
            <TextBlock Text="应用程序设置" FontWeight="Bold" FontSize="16"/>
        </Border>
        
        <!-- 内容区域 -->
        <TabControl Grid.Row="1" Margin="10">
            <!-- 界面设置 -->
            <TabItem Header="界面设置">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="200"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- 界面元素显示策略 -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Margin="0,10,10,0" VerticalAlignment="Center">界面元素显示策略:</TextBlock>
                    <ComboBox Grid.Row="0" Grid.Column="1" Margin="0,10,0,0" SelectedValue="{Binding Settings.UIElementDisplayStrategy}" SelectedValuePath="Tag">
                        <ComboBoxItem Content="始终显示" Tag="{x:Static models:UIElementDisplayStrategy.AlwaysShow}"/>
                        <ComboBoxItem Content="自动隐藏" Tag="{x:Static models:UIElementDisplayStrategy.AutoHide}"/>
                    </ComboBox>
                    
                    <!-- 内容显示区默认显示模式 -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Margin="0,10,10,0" VerticalAlignment="Center">内容显示区默认显示模式:</TextBlock>
                    <ComboBox Grid.Row="1" Grid.Column="1" Margin="0,10,0,0" SelectedValue="{Binding Settings.ContentDisplayMode}" SelectedValuePath="Tag">
                        <ComboBoxItem Content="适合宽度" Tag="{x:Static models:ContentDisplayMode.FitWidth}"/>
                        <ComboBoxItem Content="适合高度" Tag="{x:Static models:ContentDisplayMode.FitHeight}"/>
                        <ComboBoxItem Content="适合页面" Tag="{x:Static models:ContentDisplayMode.FitPage}"/>
                    </ComboBox>
                    
                    <!-- 启动后是否自动全屏 -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Margin="0,10,10,0" VerticalAlignment="Center">启动后自动全屏:</TextBlock>
                    <CheckBox Grid.Row="2" Grid.Column="1" Margin="0,10,0,0" IsChecked="{Binding Settings.AutoFullScreenOnStartup}"/>
                    
                    <!-- 报纸列表显示模式 -->
                    <TextBlock Grid.Row="3" Grid.Column="0" Margin="0,10,10,0" VerticalAlignment="Center">报纸列表显示模式:</TextBlock>
                    <ComboBox Grid.Row="3" Grid.Column="1" Margin="0,10,0,0" SelectedValue="{Binding Settings.NewspaperListDisplayMode}" SelectedValuePath="Tag">
                        <ComboBoxItem Content="文本式列表" Tag="{x:Static models:NewspaperListDisplayMode.TextList}"/>
                        <ComboBoxItem Content="图片式列表" Tag="{x:Static models:NewspaperListDisplayMode.ImageList}"/>
                    </ComboBox>
                </Grid>
            </TabItem>
            
            <!-- 报纸库管理 -->
            <TabItem Header="报纸库管理">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- 报纸列表 -->
                    <ListBox Grid.Row="0" ItemsSource="{Binding Settings.NewspaperLibrary}" SelectedItem="{Binding SelectedNewspaperInfo}" Margin="0,0,0,10">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal" Margin="10">
                                    <Image Source="{Binding TitleImagePath}" Width="50" Height="50" Stretch="Uniform" Margin="0,0,10,0"/>
                                    <StackPanel>
                                        <TextBlock Text="{Binding Name}" FontWeight="Bold"/>
                                        <TextBlock Text="{Binding Url}" FontSize="12" Foreground="Gray" TextWrapping="Wrap"/>
                                    </StackPanel>
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                    
                    <!-- 操作按钮 -->
                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                        <Button Content="添加" Command="{Binding AddNewspaperInfoCommand}" Margin="0,0,10,0"/>
                        <Button Content="编辑" Command="{Binding EditNewspaperInfoCommand}" Margin="0,0,10,0"/>
                        <Button Content="删除" Command="{Binding DeleteNewspaperInfoCommand}" Margin="0,0,10,0"/>
                    </StackPanel>
                </Grid>
            </TabItem>
        </TabControl>
        
        <!-- 按钮区域 -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">
            <Button Content="确定" Command="{Binding OKCommand}" Margin="0,0,10,0" Width="80"/>
            <Button Content="取消" Command="{Binding CancelCommand}" Width="80"/>
        </StackPanel>
    </Grid>
</Window>
